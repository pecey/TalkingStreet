<!DOCTYPE html>
<html>
<head>
  <title>Talking Street</title>
  <!-- Stylesheets-->
  <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,300,600' rel=
  'stylesheet' type='text/css' />
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet"
  type="text/css" />
  <link href='https://fonts.googleapis.com/css?family=Catamaran:400,300,600,700' rel='stylesheet' type='text/css'>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.5/css/materialize.min.css">
  <link rel="stylesheet" type="text/css" href="css/main.css">
  <link rel="stylesheet" type="text/css" href="css/profile.css">
</head>
<body>
  <!-- Navbar starts-->
  <nav>
    <!-- Navbar desktop view -->
      <div class="nav-wrapper hide-on-med-and-down">
       <ul id="nav-mobile" class="right">
         <li><a href="sass.html"><i class="material-icons left">account_circle</i>Hello, Foodie</a></li>
       </ul>
       <div id="brand-logo"><img src=
        "http://talkingstreet.in/wp-content/uploads/2015/02/talking-street.png" /></div>
        <!-- Navbar search form desktop view -->
        <form>
         <div class="valign-wrapper" style="height: 100%;">
          <div class="input-field valign">
            <input type="text" class="left custom-search" placeholder="Search" />
          </div>
        </div>
      </form>

    </div>
    <!-- Navbar desktop view ends here -->
    <!-- Navbar mobile view -->
  <div id="mobile-nav" class="hide-on-large-only">
    <div id="mobile-nav-search-wrapper">
      <input type="text" id="mobile-nav-search" placeholder="What or where do you want to eat next?">
    </div>
    <ul id="slide-out" class="side-nav">
      <li id="brand-logo-mobile-wrapper"><div id="brand-logo-mobile"><img src=
        "http://talkingstreet.in/wp-content/uploads/2015/02/talking-street.png"/></div></li>
        <li>
          <ul id="mobile-nav-menu">
                <li><a href="#!">Login</a></li>
                <li><a href="#!">Suggest A Joint</a></li>
                <li><a href="#!">Subscribe</a></li>  
                <li><a href="#!">About Us</a></li>
                <li><a href="#!">The Team</a></li>
                <li><a href="#!">Street Food Club</a></li>
                <li><a href="#!">Hygiene</a></li>
              </ul>
            </li>
      
          </ul>
          <a href="#" data-activates="slide-out" class="button-collapse"><i class="material-icons">dehaze</i></a>
        </div>
        <!-- Navbar mobile view ends here -->
      </nav>
      <!-- Navbar ends here -->
    <!--Desktop Structure -->
    <!-- 
  
     .custom-container
          .row
              .col l2                             .col l8                       .col l2
              [Desktop Filters]                 [Center Panel]                [Ads over here]
              [Collapsible]                [Outlets followed by blogs]

    -->

   <div class="custom-container">
      <div class="row">
         <!-- Desktop Filters wont be there on profile pags-->

  <!-- Content till here is common to inner pages -->

    <div class="col l10 s12" id="center-panel">
    <div class="row" style="display: table">
      <div class="col l4 s12" id="profile-user-image">
        <div id="profile-user-image-wrapper" style="position: relative;">
          <img id="user-image" src="images/ad.png">
          <div class="profile-user-image-overlay">
           <input type="file" name="basic-user-avatar" id="basic-local-avatar" accept="image/*" onchange="handleFiles(this.files)">
            <div class="profile-user-image-overlay-text">Change your avatar</div>
          </div>
        </div>
        <div class="l12 s12"><input type="submit" id="update-avatar-button" name="manage_avatar_submit" value="Update avatar" style="display: none"></div>
        <div class="l12 s12" id="profile-user-name">Rupam Gogoi</div>
      </div>
      <div class="col l8 s12" id="profile-user-details" style="display: table-cell; vertical-align: middle;">
        <div class="profile-user-details-title">Change your password</div>
        <hr>
        <form>
          <input type="password" placeholder="Current Password">
          <input type="password" placeholder="New Password">
          <input type="password" placeholder="Confirm Password">
          <button class="btn red">Change</button>
        </form>
      </div>
      </div>
    </div>
    <div class="col l2 s12" id="right-panel">
       <div class="row">
        <div class="col s12" style="height:200px; background: #ccc"></div>
        <div class="col s12" style="height:200px; background: #ccc"></div>
        <div class="col s12" style="height:200px; background: #ccc"></div>
      </div>
    </div>
    <!-- Ends right panel-->
</div>
</div>
<!-- Custom container has ended-->
 <script type="text/javascript" src="http://code.jquery.com/jquery-2.2.0.min.js"></script>
 <script type="text/javascript">
   $(function(){
      var img = $("#profile-user-image img");
      var img_height = img.height();
      var img_width = img.width();
      console.log(img_height);
      if(img_height > img_width){
        img.css("height", img_width).css("width", img_width);
        $(".profile-user-image-overlay").css("height", img_width).css("width", img_width);
      }
      else{
        img.css("width", img_height).css("height", img_height);
        $(".profile-user-image-overlay").css("width", img_height).css("height", img_height);
      }
   });

    $("#profile-user-image").hover(function(){
     $(".profile-user-image-overlay").css("display","table");
      }, function(){
        $(".profile-user-image-overlay").css("display","none");
    });

    $(".profile-user-image-overlay-text").click(function(){
      $("#basic-local-avatar").trigger("click");
    })
    handleFiles = function(files){
      if(!files.length){
        return;
      }
      else{
        var src = window.URL.createObjectURL(files[0]);
        $("#user-image").attr("src", src);
        $("#update-avatar-button").css("display","inline");
      }
    }
 </script>
</body>
</html>